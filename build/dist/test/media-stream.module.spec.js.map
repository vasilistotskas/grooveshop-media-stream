{"version":3,"sources":["../../../src/test/media-stream.module.spec.ts"],"sourcesContent":["import MediaStreamImageRESTController from '@microservice/API/controllers/media-stream-image-rest.controller'\r\nimport CacheImageResourceOperation from '@microservice/Cache/operations/cache-image-resource.operation'\r\nimport MediaStreamModule from '@microservice/media-stream.module'\r\nimport FetchResourceResponseJob from '@microservice/Queue/jobs/fetch-resource-response.job'\r\nimport GenerateResourceIdentityFromRequestJob from '@microservice/Queue/jobs/generate-resource-identity-from-request.job'\r\nimport StoreResourceResponseToFileJob from '@microservice/Queue/jobs/store-resource-response-to-file.job'\r\nimport WebpImageManipulationJob from '@microservice/Queue/jobs/webp-image-manipulation.job'\r\nimport { TasksModule } from '@microservice/Tasks/tasks.module'\r\nimport ValidateCacheImageRequestResizeTargetRule from '@microservice/Validation/rules/validate-cache-image-request-resize-target.rule'\r\nimport ValidateCacheImageRequestRule from '@microservice/Validation/rules/validate-cache-image-request.rule'\r\nimport { HttpModule } from '@nestjs/axios'\r\nimport { ScheduleModule } from '@nestjs/schedule'\r\nimport { Test, TestingModule } from '@nestjs/testing'\r\nimport { beforeEach, describe, expect, it } from 'vitest'\n\r\ndescribe('mediaStreamModule', () => {\r\n\tlet module: TestingModule\r\n\r\n\tbeforeEach(async () => {\r\n\t\tmodule = await Test.createTestingModule({\r\n\t\t\timports: [HttpModule, ScheduleModule.forRoot(), TasksModule, MediaStreamModule],\r\n\t\t}).compile()\r\n\t})\r\n\r\n\tit('should compile the module', async () => {\r\n\t\texpect(module).toBeDefined()\r\n\t\tconst mediaStreamModule = await module.resolve<MediaStreamModule>(MediaStreamModule)\r\n\t\texpect(mediaStreamModule).toBeDefined()\r\n\t})\r\n\r\n\tit('should have MediaStreamImageRESTController defined', async () => {\r\n\t\tconst controller = await module.resolve<MediaStreamImageRESTController>(MediaStreamImageRESTController)\r\n\t\texpect(controller).toBeDefined()\r\n\t})\r\n\r\n\tit('should have CacheImageResourceOperation defined', async () => {\r\n\t\tconst operation = await module.resolve<CacheImageResourceOperation>(CacheImageResourceOperation)\r\n\t\texpect(operation).toBeDefined()\r\n\t})\r\n\r\n\tit('should have GenerateResourceIdentityFromRequestJob defined', async () => {\r\n\t\tconst job = await module.resolve<GenerateResourceIdentityFromRequestJob>(GenerateResourceIdentityFromRequestJob)\r\n\t\texpect(job).toBeDefined()\r\n\t})\r\n\r\n\tit('should have FetchResourceResponseJob defined', async () => {\r\n\t\tconst job = await module.resolve<FetchResourceResponseJob>(FetchResourceResponseJob)\r\n\t\texpect(job).toBeDefined()\r\n\t})\r\n\r\n\tit('should have StoreResourceResponseToFileJob defined', async () => {\r\n\t\tconst job = await module.resolve<StoreResourceResponseToFileJob>(StoreResourceResponseToFileJob)\r\n\t\texpect(job).toBeDefined()\r\n\t})\r\n\r\n\tit('should have WebpImageManipulationJob defined', async () => {\r\n\t\tconst job = await module.resolve<WebpImageManipulationJob>(WebpImageManipulationJob)\r\n\t\texpect(job).toBeDefined()\r\n\t})\r\n\r\n\tit('should have ValidateCacheImageRequestRule defined', async () => {\r\n\t\tconst rule = await module.resolve<ValidateCacheImageRequestRule>(ValidateCacheImageRequestRule)\r\n\t\texpect(rule).toBeDefined()\r\n\t})\r\n\r\n\tit('should have ValidateCacheImageRequestResizeTargetRule defined', async () => {\r\n\t\tconst rule = await module.resolve<ValidateCacheImageRequestResizeTargetRule>(ValidateCacheImageRequestResizeTargetRule)\r\n\t\texpect(rule).toBeDefined()\r\n\t})\r\n\r\n\tit('should import HttpModule', () => {\r\n\t\tconst importedHttpModule = module.get<HttpModule>(HttpModule)\r\n\t\texpect(importedHttpModule).toBeDefined()\r\n\t})\r\n\r\n\tit('should import ScheduleModule', () => {\r\n\t\tconst importedScheduleModule = module.get(ScheduleModule)\r\n\t\texpect(importedScheduleModule).toBeDefined()\r\n\t})\r\n\r\n\tit('should import TasksModule', () => {\r\n\t\tconst importedTasksModule = module.get<TasksModule>(TasksModule)\r\n\t\texpect(importedTasksModule).toBeDefined()\r\n\t})\r\n})\r\n"],"names":["MediaStreamImageRESTController","CacheImageResourceOperation","MediaStreamModule","FetchResourceResponseJob","GenerateResourceIdentityFromRequestJob","StoreResourceResponseToFileJob","WebpImageManipulationJob","TasksModule","ValidateCacheImageRequestResizeTargetRule","ValidateCacheImageRequestRule","HttpModule","ScheduleModule","Test","beforeEach","describe","expect","it","module","createTestingModule","imports","forRoot","compile","toBeDefined","mediaStreamModule","resolve","controller","operation","job","rule","importedHttpModule","get","importedScheduleModule","importedTasksModule"],"mappings":"AAAA,OAAOA,oCAAoC,uEAAkE;AAC7G,OAAOC,iCAAiC,oEAA+D;AACvG,OAAOC,uBAAuB,wCAAmC;AACjE,OAAOC,8BAA8B,2DAAsD;AAC3F,OAAOC,4CAA4C,2EAAsE;AACzH,OAAOC,oCAAoC,mEAA8D;AACzG,OAAOC,8BAA8B,2DAAsD;AAC3F,SAASC,WAAW,QAAQ,uCAAkC;AAC9D,OAAOC,+CAA+C,qFAAgF;AACtI,OAAOC,mCAAmC,uEAAkE;AAC5G,SAASC,UAAU,QAAQ,gBAAe;AAC1C,SAASC,cAAc,QAAQ,mBAAkB;AACjD,SAASC,IAAI,QAAuB,kBAAiB;AACrD,SAASC,UAAU,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,EAAE,QAAQ,SAAQ;AAEzDF,SAAS,qBAAqB;IAC7B,IAAIG;IAEJJ,WAAW;QACVI,SAAS,MAAML,KAAKM,mBAAmB,CAAC;YACvCC,SAAS;gBAACT;gBAAYC,eAAeS,OAAO;gBAAIb;gBAAaL;aAAkB;QAChF,GAAGmB,OAAO;IACX;IAEAL,GAAG,6BAA6B;QAC/BD,OAAOE,QAAQK,WAAW;QAC1B,MAAMC,oBAAoB,MAAMN,OAAOO,OAAO,CAAoBtB;QAClEa,OAAOQ,mBAAmBD,WAAW;IACtC;IAEAN,GAAG,sDAAsD;QACxD,MAAMS,aAAa,MAAMR,OAAOO,OAAO,CAAiCxB;QACxEe,OAAOU,YAAYH,WAAW;IAC/B;IAEAN,GAAG,mDAAmD;QACrD,MAAMU,YAAY,MAAMT,OAAOO,OAAO,CAA8BvB;QACpEc,OAAOW,WAAWJ,WAAW;IAC9B;IAEAN,GAAG,8DAA8D;QAChE,MAAMW,MAAM,MAAMV,OAAOO,OAAO,CAAyCpB;QACzEW,OAAOY,KAAKL,WAAW;IACxB;IAEAN,GAAG,gDAAgD;QAClD,MAAMW,MAAM,MAAMV,OAAOO,OAAO,CAA2BrB;QAC3DY,OAAOY,KAAKL,WAAW;IACxB;IAEAN,GAAG,sDAAsD;QACxD,MAAMW,MAAM,MAAMV,OAAOO,OAAO,CAAiCnB;QACjEU,OAAOY,KAAKL,WAAW;IACxB;IAEAN,GAAG,gDAAgD;QAClD,MAAMW,MAAM,MAAMV,OAAOO,OAAO,CAA2BlB;QAC3DS,OAAOY,KAAKL,WAAW;IACxB;IAEAN,GAAG,qDAAqD;QACvD,MAAMY,OAAO,MAAMX,OAAOO,OAAO,CAAgCf;QACjEM,OAAOa,MAAMN,WAAW;IACzB;IAEAN,GAAG,iEAAiE;QACnE,MAAMY,OAAO,MAAMX,OAAOO,OAAO,CAA4ChB;QAC7EO,OAAOa,MAAMN,WAAW;IACzB;IAEAN,GAAG,4BAA4B;QAC9B,MAAMa,qBAAqBZ,OAAOa,GAAG,CAAapB;QAClDK,OAAOc,oBAAoBP,WAAW;IACvC;IAEAN,GAAG,gCAAgC;QAClC,MAAMe,yBAAyBd,OAAOa,GAAG,CAACnB;QAC1CI,OAAOgB,wBAAwBT,WAAW;IAC3C;IAEAN,GAAG,6BAA6B;QAC/B,MAAMgB,sBAAsBf,OAAOa,GAAG,CAAcvB;QACpDQ,OAAOiB,qBAAqBV,WAAW;IACxC;AACD"}