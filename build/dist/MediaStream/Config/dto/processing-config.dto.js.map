{"version":3,"sources":["../../../../../src/MediaStream/Config/dto/processing-config.dto.ts"],"sourcesContent":["import { Transform } from 'class-transformer'\r\nimport { IsArray, IsNumber, IsString, Max, Min } from 'class-validator'\r\n\r\nexport class ProcessingConfigDto {\r\n\t@IsNumber()\r\n\t@Min(1)\r\n\t@Max(100)\r\n\t@Transform(({ value }) => {\r\n\t\tconst parsed = Number.parseInt(value)\r\n\t\treturn Number.isNaN(parsed) ? 10 : parsed\r\n\t})\r\n\tmaxConcurrent: number = 10\r\n\r\n\t@IsNumber()\r\n\t@Min(1000)\r\n\t@Max(300000)\r\n\t@Transform(({ value }) => Number.parseInt(value) || 30000)\r\n\ttimeout: number = 30000\r\n\r\n\t@IsNumber()\r\n\t@Min(0)\r\n\t@Max(10)\r\n\t@Transform(({ value }) => Number.parseInt(value) || 3)\r\n\tretries: number = 3\r\n\r\n\t@IsNumber()\r\n\t@Min(1024)\r\n\t@Max(52428800)\r\n\t@Transform(({ value }) => Number.parseInt(value) || 10485760)\r\n\tmaxFileSize: number = 10485760\r\n\r\n\t@IsArray()\r\n\t@IsString({ each: true })\r\n\t@Transform(({ value }) => {\r\n\t\tif (typeof value === 'string') {\r\n\t\t\treturn value.split(',').map(format => format.trim().toLowerCase())\r\n\t\t}\r\n\t\treturn value || ['jpg', 'jpeg', 'png', 'webp', 'gif', 'svg']\r\n\t})\r\n\tallowedFormats: string[] = ['jpg', 'jpeg', 'png', 'webp', 'gif', 'svg']\r\n}\r\n"],"names":["Transform","IsArray","IsNumber","IsString","Max","Min","ProcessingConfigDto","maxConcurrent","timeout","retries","maxFileSize","allowedFormats","value","parsed","Number","parseInt","isNaN","each","split","map","format","trim","toLowerCase"],"mappings":";;;;;;;;;AAAA,SAASA,SAAS,QAAQ,oBAAmB;AAC7C,SAASC,OAAO,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,GAAG,EAAEC,GAAG,QAAQ,kBAAiB;AAEvE,OAAO,MAAMC;;aAQZC,gBAAwB;aAMxBC,UAAkB;aAMlBC,UAAkB;aAMlBC,cAAsB;aAUtBC,iBAA2B;YAAC;YAAO;YAAQ;YAAO;YAAQ;YAAO;SAAM;;AACxE;;;;;eAjCa,EAAEC,KAAK,EAAE;QACpB,MAAMC,SAASC,OAAOC,QAAQ,CAACH;QAC/B,OAAOE,OAAOE,KAAK,CAACH,UAAU,KAAKA;IACpC;;;;;;;eAMY,EAAED,KAAK,EAAE,GAAKE,OAAOC,QAAQ,CAACH,UAAU;;;;;;;eAMxC,EAAEA,KAAK,EAAE,GAAKE,OAAOC,QAAQ,CAACH,UAAU;;;;;;;eAMxC,EAAEA,KAAK,EAAE,GAAKE,OAAOC,QAAQ,CAACH,UAAU;;;;;;QAIxCK,MAAM;;eACN,EAAEL,KAAK,EAAE;QACpB,IAAI,OAAOA,UAAU,UAAU;YAC9B,OAAOA,MAAMM,KAAK,CAAC,KAAKC,GAAG,CAACC,CAAAA,SAAUA,OAAOC,IAAI,GAAGC,WAAW;QAChE;QACA,OAAOV,SAAS;YAAC;YAAO;YAAQ;YAAO;YAAQ;YAAO;SAAM;IAC7D"}