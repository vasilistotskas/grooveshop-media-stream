{"version":3,"sources":["../../../../../src/MediaStream/Config/dto/server-config.dto.ts"],"sourcesContent":["import { Transform, Type } from 'class-transformer'\r\nimport { IsNumber, IsString, Max, Min, ValidateNested } from 'class-validator'\r\n\r\nexport class CorsConfigDto {\r\n\t@IsString()\r\n\t@Transform(({ value }) => value || '*')\r\n\torigin: string = '*'\r\n\r\n\t@IsString()\r\n\t@Transform(({ value }) => value || 'GET')\r\n\tmethods: string = 'GET'\r\n\r\n\t@IsNumber()\r\n\t@Min(0)\r\n\t@Max(86400)\r\n\t@Transform(({ value }) => Number.parseInt(value) || 86400)\r\n\tmaxAge: number = 86400\r\n}\r\n\r\nexport class ServerConfigDto {\r\n\t@IsNumber()\r\n\t@Min(1)\r\n\t@Max(65535)\r\n\t@Transform(({ value }) => {\r\n\t\tif (value === undefined || value === null)\r\n\t\t\treturn 3003\r\n\t\tconst parsed = Number.parseInt(value)\r\n\t\treturn Number.isNaN(parsed) ? value : parsed\r\n\t})\r\n\tport: number = 3003\r\n\r\n\t@IsString()\r\n\t@Transform(({ value }) => value || '0.0.0.0')\r\n\thost: string = '0.0.0.0'\r\n\r\n\t@ValidateNested()\r\n\t@Type(() => CorsConfigDto)\r\n\tcors: CorsConfigDto = new CorsConfigDto()\r\n}\r\n"],"names":["Transform","Type","IsNumber","IsString","Max","Min","ValidateNested","CorsConfigDto","origin","methods","maxAge","value","Number","parseInt","ServerConfigDto","port","host","cors","undefined","parsed","isNaN"],"mappings":";;;;;;;;;AAAA,SAASA,SAAS,EAAEC,IAAI,QAAQ,oBAAmB;AACnD,SAASC,QAAQ,EAAEC,QAAQ,EAAEC,GAAG,EAAEC,GAAG,EAAEC,cAAc,QAAQ,kBAAiB;AAE9E,OAAO,MAAMC;;aAGZC,SAAiB;aAIjBC,UAAkB;aAMlBC,SAAiB;;AAClB;;;eAZa,EAAEC,KAAK,EAAE,GAAKA,SAAS;;;;;eAIvB,EAAEA,KAAK,EAAE,GAAKA,SAAS;;;;;;;eAMvB,EAAEA,KAAK,EAAE,GAAKC,OAAOC,QAAQ,CAACF,UAAU;;;AAIrD,OAAO,MAAMG;;aAUZC,OAAe;aAIfC,OAAe;aAIfC,OAAsB,IAAIV;;AAC3B;;;;;eAfa,EAAEI,KAAK,EAAE;QACpB,IAAIA,UAAUO,aAAaP,UAAU,MACpC,OAAO;QACR,MAAMQ,SAASP,OAAOC,QAAQ,CAACF;QAC/B,OAAOC,OAAOQ,KAAK,CAACD,UAAUR,QAAQQ;IACvC;;;;;eAIY,EAAER,KAAK,EAAE,GAAKA,SAAS;;;;;aAIvBJ"}