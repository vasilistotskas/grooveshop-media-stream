import { ConfigService } from '@microservice/Config/config.service';
import { OnModuleInit } from '@nestjs/common';
import * as promClient from 'prom-client';
export declare class MetricsService implements OnModuleInit {
    private readonly configService;
    private readonly logger;
    private readonly register;
    private readonly httpRequestsTotal;
    private readonly httpRequestDuration;
    private readonly httpRequestSize;
    private readonly httpResponseSize;
    private readonly memoryUsage;
    private readonly diskSpaceUsage;
    private readonly cpuUsage;
    private readonly loadAverage;
    private readonly fileDescriptors;
    private readonly networkConnections;
    private readonly cacheHitRatio;
    private readonly cacheSize;
    private readonly cacheEvictions;
    private readonly cacheOperationsTotal;
    private readonly cacheOperationDuration;
    private readonly imageProcessingDuration;
    private readonly imageProcessingTotal;
    private readonly imageProcessingQueueSize;
    private readonly imageProcessingErrors;
    private readonly activeConnections;
    private readonly errorTotal;
    private readonly requestsInFlight;
    private readonly uptime;
    private readonly gcDuration;
    private readonly eventLoopLag;
    private startTime;
    private requestsInFlightCount;
    constructor(configService: ConfigService);
    onModuleInit(): Promise<void>;
    getMetrics(): Promise<string>;
    getRegistry(): promClient.Registry;
    recordHttpRequest(method: string, route: string, statusCode: number, duration: number, requestSize?: number, responseSize?: number): void;
    incrementRequestsInFlight(): void;
    decrementRequestsInFlight(): void;
    recordImageProcessing(operation: string, format: string, status: 'success' | 'error', duration: number): void;
    updateImageProcessingQueueSize(size: number): void;
    recordImageProcessingError(operation: string, errorType: string): void;
    recordCacheOperation(operation: 'get' | 'set' | 'delete' | 'clear' | 'expire' | 'flush' | 'warmup', cacheType: string, status: 'hit' | 'miss' | 'success' | 'error', duration?: number): void;
    recordCacheEviction(cacheType: string, reason: 'size' | 'ttl' | 'manual' | 'memory'): void;
    updateCacheSize(cacheType: string, sizeBytes: number): void;
    recordError(type: string, operation: string): void;
    updateMemoryMetrics(memoryInfo: {
        rss: number;
        heapTotal: number;
        heapUsed: number;
        external: number;
    }): void;
    updateDiskSpaceMetrics(path: string, total: number, used: number, free: number): void;
    updateCacheHitRatio(cacheType: string, ratio: number): void;
    updateActiveConnections(type: string, count: number): void;
    updateCpuUsage(userPercent: number, systemPercent: number): void;
    updateLoadAverage(load1: number, load5: number, load15: number): void;
    updateFileDescriptors(open: number, max: number): void;
    updateNetworkConnections(established: number, listening: number, timeWait: number): void;
    recordGarbageCollection(type: string, duration: number): void;
    recordEventLoopLag(lag: number): void;
    reset(): void;
    private startPeriodicMetricsCollection;
    private collectSystemMetrics;
    private collectPerformanceMetrics;
    private collectDiskSpaceMetrics;
    private getDiskUsage;
    private getDirectorySize;
}
