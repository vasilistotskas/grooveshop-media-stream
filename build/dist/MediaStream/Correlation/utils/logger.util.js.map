{"version":3,"sources":["../../../../../src/MediaStream/Correlation/utils/logger.util.ts"],"sourcesContent":["import { CorrelationService } from '../services/correlation.service'\r\n\r\nexport class CorrelatedLogger {\r\n\tprivate static _correlationService: CorrelationService | null = null\r\n\r\n\tstatic setCorrelationService(service: CorrelationService): void {\r\n\t\tthis._correlationService = service\r\n\t}\r\n\r\n\tprivate static getCorrelationService(): CorrelationService {\r\n\t\tif (!this._correlationService) {\r\n\t\t\tthis._correlationService = new CorrelationService()\r\n\t\t}\r\n\t\treturn this._correlationService\r\n\t}\r\n\r\n\tstatic log(message: string, context?: string): void {\r\n\t\tconst correlationId = this.getCorrelationService().getCorrelationId()\r\n\t\tconst prefix = correlationId ? `[${correlationId}]` : ''\r\n\t\tconst contextStr = context ? ` [${context}]` : ''\r\n\t\tconsole.log(`${prefix}${contextStr} ${message}`)\r\n\t}\r\n\r\n\tstatic error(message: string, trace?: string, context?: string): void {\r\n\t\tconst correlationId = this.getCorrelationService().getCorrelationId()\r\n\t\tconst prefix = correlationId ? `[${correlationId}]` : ''\r\n\t\tconst contextStr = context ? ` [${context}]` : ''\r\n\t\tconsole.error(`${prefix}${contextStr} ERROR: ${message}`)\r\n\t\tif (trace) {\r\n\t\t\tconsole.error(`${prefix}${contextStr} TRACE: ${trace}`)\r\n\t\t}\r\n\t}\r\n\r\n\tstatic warn(message: string, context?: string): void {\r\n\t\tconst correlationId = this.getCorrelationService().getCorrelationId()\r\n\t\tconst prefix = correlationId ? `[${correlationId}]` : ''\r\n\t\tconst contextStr = context ? ` [${context}]` : ''\r\n\t\tconsole.warn(`${prefix}${contextStr} WARN: ${message}`)\r\n\t}\r\n\r\n\tstatic debug(message: string, context?: string): void {\r\n\t\tconst correlationId = this.getCorrelationService().getCorrelationId()\r\n\t\tconst prefix = correlationId ? `[${correlationId}]` : ''\r\n\t\tconst contextStr = context ? ` [${context}]` : ''\r\n\t\tconsole.debug(`${prefix}${contextStr} DEBUG: ${message}`)\r\n\t}\r\n\r\n\tstatic verbose(message: string, context?: string): void {\r\n\t\tconst correlationId = this.getCorrelationService().getCorrelationId()\r\n\t\tconst prefix = correlationId ? `[${correlationId}]` : ''\r\n\t\tconst contextStr = context ? ` [${context}]` : ''\r\n\t\tconsole.log(`${prefix}${contextStr} VERBOSE: ${message}`)\r\n\t}\r\n}\r\n"],"names":["CorrelationService","CorrelatedLogger","_correlationService","setCorrelationService","service","getCorrelationService","log","message","context","correlationId","getCorrelationId","prefix","contextStr","console","error","trace","warn","debug","verbose"],"mappings":"AAAA,SAASA,kBAAkB,QAAQ,qCAAiC;AAEpE,OAAO,MAAMC;;aACGC,sBAAiD;;IAEhE,OAAOC,sBAAsBC,OAA2B,EAAQ;QAC/D,IAAI,CAACF,mBAAmB,GAAGE;IAC5B;IAEA,OAAeC,wBAA4C;QAC1D,IAAI,CAAC,IAAI,CAACH,mBAAmB,EAAE;YAC9B,IAAI,CAACA,mBAAmB,GAAG,IAAIF;QAChC;QACA,OAAO,IAAI,CAACE,mBAAmB;IAChC;IAEA,OAAOI,IAAIC,OAAe,EAAEC,OAAgB,EAAQ;QACnD,MAAMC,gBAAgB,IAAI,CAACJ,qBAAqB,GAAGK,gBAAgB;QACnE,MAAMC,SAASF,gBAAgB,CAAC,CAAC,EAAEA,cAAc,CAAC,CAAC,GAAG;QACtD,MAAMG,aAAaJ,UAAU,CAAC,EAAE,EAAEA,QAAQ,CAAC,CAAC,GAAG;QAC/CK,QAAQP,GAAG,CAAC,GAAGK,SAASC,WAAW,CAAC,EAAEL,SAAS;IAChD;IAEA,OAAOO,MAAMP,OAAe,EAAEQ,KAAc,EAAEP,OAAgB,EAAQ;QACrE,MAAMC,gBAAgB,IAAI,CAACJ,qBAAqB,GAAGK,gBAAgB;QACnE,MAAMC,SAASF,gBAAgB,CAAC,CAAC,EAAEA,cAAc,CAAC,CAAC,GAAG;QACtD,MAAMG,aAAaJ,UAAU,CAAC,EAAE,EAAEA,QAAQ,CAAC,CAAC,GAAG;QAC/CK,QAAQC,KAAK,CAAC,GAAGH,SAASC,WAAW,QAAQ,EAAEL,SAAS;QACxD,IAAIQ,OAAO;YACVF,QAAQC,KAAK,CAAC,GAAGH,SAASC,WAAW,QAAQ,EAAEG,OAAO;QACvD;IACD;IAEA,OAAOC,KAAKT,OAAe,EAAEC,OAAgB,EAAQ;QACpD,MAAMC,gBAAgB,IAAI,CAACJ,qBAAqB,GAAGK,gBAAgB;QACnE,MAAMC,SAASF,gBAAgB,CAAC,CAAC,EAAEA,cAAc,CAAC,CAAC,GAAG;QACtD,MAAMG,aAAaJ,UAAU,CAAC,EAAE,EAAEA,QAAQ,CAAC,CAAC,GAAG;QAC/CK,QAAQG,IAAI,CAAC,GAAGL,SAASC,WAAW,OAAO,EAAEL,SAAS;IACvD;IAEA,OAAOU,MAAMV,OAAe,EAAEC,OAAgB,EAAQ;QACrD,MAAMC,gBAAgB,IAAI,CAACJ,qBAAqB,GAAGK,gBAAgB;QACnE,MAAMC,SAASF,gBAAgB,CAAC,CAAC,EAAEA,cAAc,CAAC,CAAC,GAAG;QACtD,MAAMG,aAAaJ,UAAU,CAAC,EAAE,EAAEA,QAAQ,CAAC,CAAC,GAAG;QAC/CK,QAAQI,KAAK,CAAC,GAAGN,SAASC,WAAW,QAAQ,EAAEL,SAAS;IACzD;IAEA,OAAOW,QAAQX,OAAe,EAAEC,OAAgB,EAAQ;QACvD,MAAMC,gBAAgB,IAAI,CAACJ,qBAAqB,GAAGK,gBAAgB;QACnE,MAAMC,SAASF,gBAAgB,CAAC,CAAC,EAAEA,cAAc,CAAC,CAAC,GAAG;QACtD,MAAMG,aAAaJ,UAAU,CAAC,EAAE,EAAEA,QAAQ,CAAC,CAAC,GAAG;QAC/CK,QAAQP,GAAG,CAAC,GAAGK,SAASC,WAAW,UAAU,EAAEL,SAAS;IACzD;AACD"}