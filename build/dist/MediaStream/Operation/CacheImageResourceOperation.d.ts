import type { ResizeOptions } from '@microservice/API/DTO/CacheImageRequest';
import type { ResourceIdentifierKP } from '@microservice/Constant/KeyProperties';
import CacheImageRequest from '@microservice/API/DTO/CacheImageRequest';
import ResourceMetaData from '@microservice/DTO/ResourceMetaData';
import FetchResourceResponseJob from '@microservice/Job/FetchResourceResponseJob';
import GenerateResourceIdentityFromRequestJob from '@microservice/Job/GenerateResourceIdentityFromRequestJob';
import StoreResourceResponseToFileJob from '@microservice/Job/StoreResourceResponseToFileJob';
import WebpImageManipulationJob from '@microservice/Job/WebpImageManipulationJob';
import ValidateCacheImageRequestRule from '@microservice/Rule/ValidateCacheImageRequestRule';
import { HttpService } from '@nestjs/axios';
export default class CacheImageResourceOperation {
    private readonly httpService;
    private readonly validateCacheImageRequest;
    private readonly fetchResourceResponseJob;
    private readonly webpImageManipulationJob;
    private readonly storeResourceResponseToFileJob;
    private readonly generateResourceIdentityFromRequestJob;
    private readonly logger;
    constructor(httpService: HttpService, validateCacheImageRequest: ValidateCacheImageRequestRule, fetchResourceResponseJob: FetchResourceResponseJob, webpImageManipulationJob: WebpImageManipulationJob, storeResourceResponseToFileJob: StoreResourceResponseToFileJob, generateResourceIdentityFromRequestJob: GenerateResourceIdentityFromRequestJob);
    request: CacheImageRequest;
    id: ResourceIdentifierKP;
    metaData: ResourceMetaData;
    get getResourcePath(): string;
    get getResourceTempPath(): string;
    get getResourceMetaPath(): string;
    get resourceExists(): Promise<boolean>;
    get getHeaders(): Promise<ResourceMetaData>;
    setup(cacheImageRequest: CacheImageRequest): Promise<void>;
    execute(): Promise<void>;
    optimizeAndServeDefaultImage(resizeOptions: ResizeOptions): Promise<string>;
    private createOptionsString;
}
